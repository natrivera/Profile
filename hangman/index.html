<!DOCTYPE html>
<html>
<head>
<title>Hangman game | by Nat Rivera</title>
    <meta name="description" content="Play the classic game.">
    <meta name="keywords" content="Nat Rivera">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="/stylesheet.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/master/devicon.min.css">
	
    
    <meta property="og:image" content="http://natrivera.com/pics/hangman.png"/>
	<meta property="og:url" content="http://natrivera.com/hangman/" >
	<meta property="og:title" content="Hangman Game | by Nat Rivera">
	<meta property="og:description" content="Play the classic game.">
    <meta name="google-site-verification" content="mVsi7ibE7rpMT5Z-T8BhRG5GZ1MP8Sx4ZXV6js2W8qk" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@itsnatrivera" />
    <meta name="twitter:title" content="Hangman Game | by Nat Rivera" />
    <meta name="twitter:description" content="Play the classic game." />
    <meta name="twitter:image" content="http://natrivera.com/pics/hangman.png" /> 	
	
   <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
   <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
	
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/profile.js"></script>
<style>
body {
  background-image: linear-gradient(45deg, #000066 25%, #00004C 25%, #00004C 50%, #000066 50%, #000066 75%, #00004C 75%, #00004C);
 color: #FFF;
 background-size: 200px 200px;
}
	
#tittle {
font-size: 3em;
text-align: center;	
}
.piece {
  width: 50px;
  height: 30px;
  border: 3px #004fff solid;
  display: in-line;
  background-color: transparent;
  border-radius: 10px;
  margin: 1% 2% 1% 2%;
}
#filler {
  color: yellow;	
  text-align: center; 
  letter-spacing: 5px; 
  font-size: 3em;
  border-radius: 10px;	
}
input {
  color: #FFF;
  border: none;
  border-bottom: 3px solid #FFF;
  max-width: 75px;
  text-align: center;
  background-color: transparent;
  font-size: 3em;
}
#game {
  background-color: rgba(255,255,255,.1);	
  margin: 2% auto 0% auto;
  text-align: center;
  max-width: 500px;
  	
  border: 3px solid yellow;	
  border-radius: 10px;	
  padding: 0%;
}
#hanger {
  margin: 2% 0% 0% 0%;
}
#message {	
  margin: 5% 0% 5% 0%;
  font-size: 1.2em;
}
button {
  min-height: 100%;
  color: #FFF;
  margin-top: 15%;
  background-color: #004fff;
  border: none;
  border-radius: 10px;
  font-size: 1.2em;
  padding: 4%;	
}
em {
  color: yellow;
}
.row {
margin: 0px 0px 0px 0px;
display: inline;	
}
#pics{
height: 256px;	
margin: 0% auto 0% auto;	
}
#pics img{
display: block;
margin: -7% auto -10% auto;	
}	
#closer {
text-align: center;
margin-bottom: 5%;	
}	
a {
text-decoration: none;
color: yellow;	
}
a:hover {
text-decoration: none;
color: #004FFF;	
}	
</style>
</head>
<body>
<div class="container-fluid">
  <div id="game">
	  <div id="filler">Ready!</div>
    <div id="pics"><img class="img-responsive" src="/hangman/img/6.png"></img></div>
     <div class="row">
	     <div class="col-md-6 col-xs-8"><div id="message">Press <em>Play!</em><br>To Start</div></div>
	     <div class="col-md-6 col-xs-4"><button id="play">Play!</button></div>
     </div>
    <div id="hanger">
      <div class="row">
        <div class="col-xs-1 piece" id="A">A</div>
        <div class="col-xs-1 piece" id="B">B</div>
        <div class="col-xs-1 piece" id="C">C</div>
        <div class="col-xs-1 piece" id="D">D</div>
        <div class="col-xs-1 piece" id="E">E</div>
        <div class="col-xs-1 piece" id="F">F</div>
        <div class="col-xs-1 piece" id="G">G</div>
        <div class="col-xs-1 piece" id="H">H</div>
        <div class="col-xs-1 piece" id="I">I</div>
        <div class="col-xs-1 piece" id="J">J</div>
        <div class="col-xs-1 piece" id="K">K</div>
        <div class="col-xs-1 piece" id="L">L</div>
        <div class="col-xs-1 piece" id="M">M</div>
        <div class="col-xs-1 piece" id="N">N</div>
        <div class="col-xs-1 piece" id="O">O</div>
        <div class="col-xs-1 piece" id="P">P</div>
        <div class="col-xs-1 piece" id="Q">Q</div>
        <div class="col-xs-1 piece" id="R">R</div>
        <div class="col-xs-1 piece" id="S">S</div>
        <div class="col-xs-1 piece" id="T">T</div>
        <div class="col-xs-1 piece" id="U">U</div>
        <div class="col-xs-1 piece" id="V">V</div>
        <div class="col-xs-1 piece" id="W">W</div>
        <div class="col-xs-1 piece" id="X">X</div>
        <div class="col-xs-1 piece" id="Y">Y</div>
        <div class="col-xs-1 piece" id="Z">Z</div>
      </div>
    </div>
  </div>
	<div id="closer">Created by <a target="_blank" href="http://natrivera.com/">Nat Rivera</a></div>
</div>		
<script>
var worder = "java";
var wrong = [];	
var array = [];
var arr2 = [];
var count = 0;

$("#play").click(function() {
  newGame();
}); //end of play
	
function newGame() {
clear();
  RandomWord();
  var waiting = setTimeout(function() {
    fill(worder);
    $("#message").html("Take a Guess<br>");
    var hinter = hint(worder);
    $("#message").append("Hint: <em>" + hinter + "</em>");	  
  }, 200);
}	
	
function hint(w) {
  w = w.toLowerCase();
  var hintapi = "http://www.dictionaryapi.com/api/v1/references/collegiate/xml/" + w + "?key=0e386e0b-f102-40c1-af19-68de8ef9e63c";
  var request = new XMLHttpRequest();
  request.open("GET", hintapi , false);
  request.send();
  var xml = request.responseXML;
  var entry = xml.getElementsByTagName("entry");
  var fl = [];
  for(var i = 0; i < entry.length; i++ ) {
    var temp = entry[i];
    temp = temp.getElementsByTagName("fl")[0];
    var t = temp.childNodes[0].nodeValue;
    fl.push(t);
  }
  return fl[0];   
}//end of hint	

$("document").ready(function() {
	$("#pics").html("<img class='img-responsive' src='/hangman/img/" + 0 + ".png'></img>");
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 1 + ".png'></img>"); 
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 2 + ".png'></img>"); 
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 3 + ".png'></img>"); 
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 4 + ".png'></img>"); 
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 5 + ".png'></img>"); 
      $("#pics").html("<img class='img-responsive' src='/hangman/img/" + 6 + ".png'></img>"); 
});	


function clear() {
  count = 0;
  wrong = [];	
  array = [];
  arr2 = [];
  $("#guess").val("");
  $("#word").html("");
  $("#A").css("background-color", "transparent");
  $("#B").css("background-color", "transparent");
  $("#C").css("background-color", "transparent");
  $("#D").css("background-color", "transparent");
  $("#E").css("background-color", "transparent");
  $("#F").css("background-color", "transparent");
  $("#G").css("background-color", "transparent");
  $("#H").css("background-color", "transparent"); 
  $("#I").css("background-color", "transparent");
  $("#J").css("background-color", "transparent");
  $("#K").css("background-color", "transparent");
  $("#L").css("background-color", "transparent");
  $("#M").css("background-color", "transparent");
  $("#N").css("background-color", "transparent");
  $("#O").css("background-color", "transparent");
  $("#P").css("background-color", "transparent");
  $("#Q").css("background-color", "transparent");
  $("#R").css("background-color", "transparent");
  $("#S").css("background-color", "transparent");
  $("#T").css("background-color", "transparent");
  $("#U").css("background-color", "transparent");
  $("#V").css("background-color", "transparent");
  $("#W").css("background-color", "transparent");
  $("#X").css("background-color", "transparent");
  $("#Y").css("background-color", "transparent");
  $("#Z").css("background-color", "transparent");
  $("#filler").css("background-color" , "transparent");	
  $("#pics").html("<img class='img-responsive' src='/hangman/img/00.png'></img>");
  $("#play").html("New Word");	
}

$(".piece").click(function() {
  var pid = $(this).attr("id").toUpperCase();
  submit(pid);
}); //end of submit


function submit(p) {
  if (count < 7) {
    check(p);
  }
}

function check(d) {
  if (d.length > 1) {
    $("#guess").val("");
  } else if (/^[a-zA-Z]/.test(d)) {
    if (worder.indexOf(d) !== -1) {
      $("#guess").val("");
      array.push(d);
      $("#filler").html("");
      for (var g = 0; g < array.length; g++) {
        for (var j = 0; j < worder.length; j++) {
          var c = worder.substring(j, j + 1);
          if (c === array[g]) {
            if (/[A-Z]/.test(arr2[j]) === false) { 
	      $("#" + d).css("background-color" , "#004fff");	    
              arr2[j] = d;
            }
          } else {
            if (/[A-Z]/.test(arr2[j]) === false) {
              arr2[j] = "_";
            }
          }
        }
      }
      var str = arr2.join("");
      $("#filler").html(str);
    } else {
      if (wrong.indexOf(d) !== -1) {
	$("#" + d).css("background-color" , "transparent");
        setTimeout(function() {
          $("#" + d).css("background" , "red");
        }, 400)      
      } else {
        wrong.push(d);
        count++;
        $("#" + d).css("background-color", "red");
        $("#pics").html(
          "<img class='img-responsive' src='http://natrivera.com/hangman/img/" +
            (count - 1) +
            ".png'></img>"
        );
        if (count === 7) {
          $("#message").html("Out of Guesses<br>Word: <em>" + worder + "</em>");
        }
      }
    }
  } else {
    $("#guess").val("");
  }
  var temp = $("#filler").html();
  if(worder === temp) {
      $("#message").html("Winner!!!<br>Word: <em>" + worder + "</em>");
      $("#filler").css("background-color" , "rgba(255,255,0,.1)");	  
      count = 9;
     }
} //end of check

function fill(v) {
  var length = v.length;
  $("#filler").html("");
  for (var i = 0; i < length; i++) {
    $("#filler").append("_");
    
  }
} //end of fill

function RandomWord() {
  var wordapi = "http://natrivera.com/hangman/words.json";
  $.getJSON(wordapi, function(word) {
    var num = word.words.length;
    var random = Math.floor(Math.random() * num);
    worder = word.words[random].toUpperCase();
    console.log(worder);
  }); //end of getJSON
} //end of random word
	
document.addEventListener('keydown', function(event) {
  var x = event.which || event.keyCode;
  var letter = String.fromCharCode(x);
  submit(letter);
  if(x == 13) {
    newGame();
  }
}, true);	

</script>
</body>
</html>
